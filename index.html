<!DOCTYPE html>
<html>
<head>
    <title>Rock, Paper, and Scissors</title>
    <meta charset="UTF-8">
    <link href="style.css" rel="stylesheet" type="text/css" media="all">
</head>
<body>
    <p>Ohoi seamen and sailors, we have a challenger on deck. Load the canons and pick yar weapons!</p>
    <br>
    <button id="btn">Play a round!</button>
    <br>
    <div class="score">
        <p id="playerScore"></p>
        <p>:</p>
        <p id="computerScore"></p>
    </div>
    <div id="logGame"></div>

    <script>

        let playerScore = 0 
        document.getElementById("playerScore").textContent = playerScore;
        
        let computerScore = 0
        document.getElementById("computerScore").textContent = computerScore;

        let btn = document.querySelector('#btn');
        btn.addEventListener('click', () => {
            game();
        });

        function game() {
            function computerPlay() {
                switch (Math.floor(Math.random() * 3)){
                    case 0:
                        return 'rock';
                        break;
                    case 1:
                        return 'scissors';
                        break;
                    case 2:
                        return 'paper';
                        break;
                };
            }

            function playRound (playerSelection, computerSelection) {
                
                switch(playerSelection) {
                    case 'rock':
                        console.log('You chose a rock');
                        break;
                    case 'scissors':
                        console.log('You chose the scissors');
                        break;
                    case 'paper':
                        console.log('You chose the paper');
                        break;
                    default:
                        console.log('Stick to the rules, matey!');
                }

                console.log(computerSelection);

                if (playerSelection === 'rock') {
                    if (computerSelection === 'rock') {
                        console.log('Tis a tie. Awkward.')
                        return 'Tie';                   
                    } else if (computerSelection === 'scissors') {
                        console.log('You won! Eat grapes and drink wine, champ!')
                        ++playerScore;
                        console.log(playerScore);
                        document.getElementById('playerScore').textContent = playerScore;
                        return 'Win';
                    } else {
                        console.log('You lost! On the plank yaaar go!')
                        ++computerScore;
                        console.log(computerScore);
                        document.getElementById('computerScore').textContent = computerScore;
                        return 'Lost';                    
                    }
                }

                if (playerSelection === 'scissors') {
                    if (computerSelection === 'rock') {
                        console.log('You lost! On the plank yaaar go!')
                        ++computerScore;
                        document.getElementById('computerScore').textContent = computerScore;
                        return 'Lost';
                    } else if (computerSelection === 'scissors') {
                        console.log('Tis a tie. Awkward.')
                        return 'Tie';
                    } else {
                        console.log('You won! Eat grapes and drink wine, champ!')
                        ++playerScore;
                        document.getElementById('playerScore').textContent = playerScore;
                        return 'Win';
                    }
                }

                if (playerSelection === 'paper') {
                    if (computerSelection === 'rock') {
                        console.log('You won! Eat grapes and drink wine, champ!')
                        ++playerScore;
                        document.getElementById('playerScore').textContent = playerScore;
                        return 'Win'
                    } else if (computerSelection === 'scissors') {
                        console.log('You lost! On the plank yaaar go!')
                        ++computerScore;
                        document.getElementById('computerScore').textContent = computerScore;
                        return 'Lost'
                    } else {
                        console.log('Tis a tie. Awkward.')
                        return 'Tie';
                    }
                }
            }
            
            let playerSelection = prompt('Pick ya weapon, raah! Rock, paper, or scissors, ye\' say').toLowerCase();
            let computerSelection = computerPlay();
            console.log((playRound(playerSelection, computerSelection)));

            if (computerScore < 5 && playerScore < 5) {
                game();
            } else if (computerScore === 5)  {
                alert("you lost");
            } else if (playerScore === 5) {
                alert("you won");
            }
        };

    </script>
</body>


</html>